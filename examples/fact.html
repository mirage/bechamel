<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>
  <script src="https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <style>
    *{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
    width: 100%;
    height: 100%;
    font-family:Helvetica Neue,metric,sans-serif;
    text-rendering: optimizeLegibility;
}

.center{
    width: 500px;
    margin:auto
}

text{
    font-family: metric,sans-serif;
}

.ml {
    text-align: left
}

svg {
    overflow: hidden;
    margin: auto
}

.axis line, .axis path{
    stroke: #2E3532;
    stroke-width:1px;
}

.axisTitle, .axis text{
    fill: #2E3532;
    font-size:12px;
}

.background {
    fill: #FBFBFB;
    stroke: #2E3532;
}

.axisTitle, .chartTitle{
    text-anchor: middle
}


.ytitle {
    text-anchor: middle;
    transform: rotate(90deg)
}

.warningtext{
    text-anchor: center;
    fill: #F06449;
}

.regLine {
    stroke: #F06449;
    stroke-width:2px;
    opacity:0.7
}

.circle {
    fill: #4ECDC4;
    stroke: #292f36;
    stroke-width:0.3px
}

table {
    margin:auto;
    text-align:left;
    border-spacing: 15px 5px;
    border: 1px solid #2E3532
}

th {
    text-align: center;
    color:#F06449
}


tr {
    fill: #2E3532;
    font-size:10px
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: auto;
  background-color: #F06449;
  color: #FFFFFF;
  text-align: center;
  border-radius: 10px;
  padding: 0 5px 0 5px;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.bar {
    fill: #4ECDC4;
    stroke:#292f36;
}
.bar:hover {
    fill: #F06449;
    stroke:#292f36;
    stroke-width:1px;
}

.radio {
    margin: auto;
    width : 200px;
}

.wrapper {
    display: grid;
    margin: 50px 50px 50px 50px;
    gap: 10px 20px;
    grid-auto-rows: minmax(20px, auto);
    text-align: center;
    place-items: center;
}

.mainTitle, .summarizeTitle {
    height:30px;
    width: auto;
    border-radius: 2px;
    padding: 0 45px 0 45px;
    border-style: solid;
    border-width:1px;
    box-shadow: 2px 2px 1px rgba(0,0,0,0.1);
    color:  #2E3532;
    background: #FBFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.slidecontainer{
    width: 50%;
}

  </style>
</head>
<body>

  <script type="text/javascript">
    // structure of JSON
// { xLabel: string,
//   yLabel: string,
//   series: [ tests ] }
//
// tests := { name: string,
//            description: { start : int, sampling: float, stabilize: bool,
//                           quota: float, limit: int, instances: [string],
//                           samples: int, time : float}
//            dataset: [ point ],
//            kde : [ v: float ] (optional)
//            result: { estimate: float, r_square: float (optional) } }
//
// point := { x : double,
//            y : double }
//
// xLabel and yLabel are the same for any tests
window.onload = function () {

const wsvg = 600;
const hsvg = 400;
const wslider = 200;
const hslider = 50;
const margin = {left:50,right:50,top:20,bottom:50};
const dotSize = 1.5;
const innerW = wsvg-(margin.left+margin.right);
const innerH = hsvg-(margin.top+margin.bottom);

const marginbar = {left:150,right:150,top:50,bottom:50};
const wbar = 900;
const innerWbar = wbar-(marginbar.left+marginbar.right);

const SQRT_2PI = Math.sqrt(2 * Math.PI);

// Main function : place containers and call plot functions.
function render(inputs) {
    inputs.series.forEach(
	function(serie) {
	    serie.dataset.forEach(
		function(d) {
		    d.x = +d.x;
		    d.y = +d.y;
		});}
    );

    // First step : check if there is no kde/histogram data at all in
    // the benchmarks, in which case, we want to reduce our layout to
    // one column.
    let nonempty_kde = false;
    inputs.series.forEach(function (serie) {
	if ('kde' in serie) {
	    nonempty_kde = nonempty_kde || true;} });
    const nb_col = nonempty_kde ? 2 : 1;

    // ************************************************ //
    //              Layout of the page                  //
    // ************************************************ //
    // + a summarize bar graph on top
    // + one section for each benchmark which includes
    //     * 1 title
    //     * 1 linear regression graph and its title and information table
    //     * if kde data are available a histogram/kde graph with its control panel.
    //
    // If none of the benchmarks has kde data, the layout is the same
    // but with only one column (no hist/kde graphs).
    //
    //
    //              c1:        c2:
    //
    // r1:            *title*
    //           ___________________
    // r2:      |   summarize bar   |
    //          |___________________|
    //
    // r3:           *title-1*
    //
    // r4:        *title*   *radio*
    //           _______     _______
    // r5:      | lr-1  |   | kde-1 |
    //          |_______|   |_______|
    //
    // r6:      *infos-1*   *slider-1*
    // ..
    // r(4i+3):       *title-i*
    //
    // r(4i+4):  *title*     *radio*
    //           _______     _______
    // r(4i+5): | lr-i  |   | kde-i |
    //          |_______|   |_______|
    //
    // r(4i+6): *infos-i*   *slider-i*
    //
    // etc ..

      const main = d3.select("body")
	  .append("div")
	    .attr("class", "wrapper")
	    .style("grid-template-columns", (nonempty_kde ? "repeat(2,"+wsvg+"px)" : "900px"))
	    .attr("id", "main");

    // ************************************************ //
    //              Summarize bar graph                 //
    // ************************************************ //

    // Title
    main.append("div")
   	  .style("grid-row", "1")
      	.style("grid-column", "1 / "+(nb_col+1))
  	  .attr("class", "summarizeTitle")
  	.text("Benchmarks summary");

    // Bar graph
    let bar_container = main
	.append("div")
   	  .style("grid-row", "2")
      	  .style("grid-column", "1 / "+(nb_col+1))
	  .attr("id", "bar");
    plot_summarize_bar_graph(bar_container, inputs);


    // ************************************************ //
    //              Layout for lr/kde graphs            //
    // ************************************************ //

    // Benchmark titles
    const titles = main
	  .selectAll(".mainTitle")
	  .data(inputs.series)
	  .enter()
	  .append("div")
	    .attr("id", (data, i) => "title-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+3))
      	    .style("grid-column", "1 / "+(nb_col+1))
  	    .attr("class","mainTitle")
	  .append("text")
  	    .attr("x", wsvg)
  	    .attr("y", margin.top-10)
            .text((data, i) => "#"+data.name);

    // Linear regression graph titles
    const titles_lr = main
	  .selectAll("#title_lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("id",  "title_lr")
   	    .style("grid-row", (data,i) =>""+(4*i+4))
   	    .style("grid-column", "1")
	  .append("text")
  	    .attr("class","chartTitle")
  	    .text("Linear regression");

    // Containers for linear regression graphs
    const lr_graphs = main
	  .selectAll(".lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr")
	    .attr("id", (data, i) => "linearRegression-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+5))
   	  .style("grid-column", "1");

    // Containers for linear regression info tables
    const lr_info = main
	  .selectAll(".lr-info")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr-info")
	    .attr("id", (data, i) => "lr-info-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+6))
            .style("grid-column", "1");

    let radio_div, kde_graphs, kde_controler;
    if (nonempty_kde) {
	// Containers for radio buttons to choose between histogram/kde plots
	radio_div = main
	      .selectAll(".radio_div")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class",  "radio")
	      .attr("id", (d, i) => "radio_div"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+4))
   	      .style("grid-column", "2");

	// Containers for kde/hist graph
	kde_graphs = main
	      .selectAll(".kde")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde")
	      .attr("id", (data, i) => "histKde-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+5))
   	      .style("grid-column", "2");

	// Containers for kde/hist controlers
	kde_controler = main
	      .selectAll(".kde-controler")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde-controler")
	      .attr("id", (data, i) => "kde-controler-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+6))
              .style("grid-column", "2");
    }

    // ************************************************ //
    //          Linear regression graph                 //
    // ************************************************ //
    lr_graphs.each( function(serie, i) {
	//Curves for each input
	const xMin = 0;
	const xMax = d3.max(serie.dataset, d => d.x);
	const yMin = 0;
	const yMax = d3.max(serie.dataset, d => d.y);

	// Define x axis
	const xScale = d3.scaleLinear()
  	      .domain([xMin,xMax])
  	      .range([0,innerW])
  	      .nice();
	const xAxis = d3.axisBottom()
  	      .scale(xScale)
  	      .ticks(8, "s");
	// "s" = number format such as 1000 -> 1k

	// Define y axis
	const yScale = d3.scaleLinear()
  	      .domain([yMin,yMax])
  	      .range([innerH,0])
  	      .nice();
	const yAxis = d3.axisLeft()
  	      .scale(yScale)
  	      .ticks(8, "s");

	// Svg
  	const plot = d3.select(this)
	    .append("svg")
  	      .attr("width",wsvg)
  	      .attr("height",hsvg);
	// Color background
	plot.append("rect")
  	    .attr("x",margin.left)
  	    .attr("y",margin.top)
  	    .attr("width",innerW)
  	    .attr("height",innerH)
  	    .attr("class","background axis");
	// Plot axis
	plot.append("g")
  	    .attr("transform",
	 	  "translate("+margin.left+","
	 	  +(hsvg-margin.bottom)+")")
	    .attr("class", "axis")
  	    .call(xAxis);
	plot.append("g")
  	    .attr("transform",
	  	  "translate("+margin.left+","
		  +margin.top+")")
	    .attr("class", "axis")
  	    .call(yAxis);
	// Print axis titles
	plot.append("text")
	    .attr("class", "axisTitle")
	    .attr("x", wsvg/2)
	    .attr("y", hsvg-10)
	    .text(inputs.xLabel);
	plot.append("text")
	    .attr("class", "axisTitle ytitle")
	    .attr("transform-origin", 0, hsvg/2)
	    .attr("x", 0)
	    .attr("y", hsvg/2)
	    .text(inputs.yLabel);

	// Plot data
	plot.append("g")
	    .attr("transform",
		  "translate("+margin.left+","
		  +margin.top+")")
  	    .selectAll("circle")
  	    .data(serie.dataset)
  	    .enter()
  	    .append("circle")
	    .attr("class", "circle")
  	    .attr("r", dotSize)
  	    .attr("cx", d => xScale(d.x))
  	    .attr("cy", d => yScale(d.y));

	// Plot linear regression line

	const xVals = serie.dataset.map((e,j) => e.x);
	const yVals = serie.dataset.map((e,j) => e.y);
	const pairs = [];
	xVals.forEach((d,i) => pairs.push([xVals[i],yVals[i]]));
	const linReg = ss.linearRegression(pairs);
	const linRegLine = ss.linearRegressionLine(linReg);
	let line = plot
	    .append("line")
    	      .attr("transform","translate("+margin.left+","+margin.top+")")
    	      .attr("class","regLine")
    	      .attr("x1",xScale(xMin))
    	      .attr("x2",xScale(xMin))
    	      .attr("y1",yScale(linRegLine(xMin)))
    	      .attr("y2",yScale(linRegLine(xMin)));
	line.transition().duration(1000).delay(2000)
    	      .attr("x2",xScale(xMax))
    	      .attr("y2",yScale(linRegLine(xMax)));

	// Add text boxes
	//const meanX = ss.mean(xVals).toFixed(0);
	//const meanY = ss.mean(yVals).toFixed(2);
	//const varX = ss.sampleVariance(xVals).toFixed(0);
	//const varY = ss.sampleVariance(yVals).toFixed(1);
	//const corCoeff = ss.sampleCorrelation(xVals,yVals).toFixed(3);

	const lr_results = [
	    ["Linear regression line", "y = "+linReg.b.toFixed(2)+" + "+linReg.m.toFixed(3)+"x"],
	    ["Coefficient", serie.result.estimate],
	    ["RÂ²", serie.result.r_square]
	];

	const sampling_to_string = sampling =>
              (Number.isInteger(sampling) ?  "`Linear "+sampling+"" : "`Geometric "+sampling+"");

	const format = v  => d3.format("s")(v);

	const param_benchmarks = [
	    ["LR sampling (sampling)", sampling_to_string(serie.description.sampling)],
	    ["Start (start)", serie.description.start],
	    ["Benchmark runtime (time / quota)",
	     format(serie.description.time) + " / " + format(serie.description.quota)],
	    ["Number of runs (samples)", serie.description.samples + " / " + serie.description.limit],
	    ["Stabilized GC (stabilize)", serie.description.stabilize]
	];

	const table = d3.select("#lr-info-"+i)
	      .append("table");

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Linear regression results");

	table.append("tbody")
	    .selectAll("tr")
	    .data(lr_results)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("class", "tooltip")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Benchmarks parameters")
	    .append("span")
	    .attr("class","tooltiptext")
	    .text("See [Benchmarks.stats]");

	table.append("tbody")
	    .selectAll("tr")
	    .data(param_benchmarks)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

    });

    // ************************************************ //
    //         Histogram and kde graphs                 //
    // ************************************************ //
    if (nonempty_kde) {
        kde_graphs.each(function (serie, i) {

	    // Svg for histogram and kde graphs
	    let pdfgraph = d3.select(this)
		.append("svg")
		.attr("id", "pdfgraph")
		.attr("width", wsvg)
		.attr("height", hsvg)
		.append("g")
		.attr("transform", "translate("+margin.left+","+margin.top+")");

	    // If there is no kde field in the data [serie], some note
	    // is written in the svg window.
	    if (!('kde' in serie)) {
		pdfgraph.append("text")
		    .attr("x", (margin.left+margin.right+wsvg)/2)
		    .attr("y", (margin.top+margin.bottom+hsvg)/2)
		    .attr("class", "warning")
		    .text("No available data");
	    } else if (d3.max(serie.kde) == d3.min(serie.kde)) {
		pdfgraph.append("text")
		    .attr("x", wsvg/2)
		    .attr("y", hsvg/2)
		    .attr("class", "warningtext")
		    .text("All data have same value.");
	    } else {
		const data = serie.kde;
		//Some default values
		const min_slider = (d3.max(data)-d3.min(data))/data.length;
		const max_slider = (d3.max(data)-d3.min(data))/30;
		let vslider = min_slider;

		//Radio buttons
		const form = d3.select("#radio_div"+i)
		      .append("form");

		form.append("input")
		    .attr("type", "radio")
		    .attr("name", "graph")
		    .attr("value", "hist"+i)
		    .attr("name", "graph")
		    .attr("checked", "checked")
		    .on("change", () => plot_chosen_graph(d3.select(this), "hist"));
		form.append("label")
		    .attr("for", "hist"+i)
		    .text("Histogram");
		form.append("input")
		    .attr("type", "radio")
		    .attr("value", "kde"+i)
		    .attr("name", "graph")
		    .on("change", () => plot_chosen_graph(d3.select(this), "kde"));
		form.append("label")
		    .attr("for", "kde"+i)
		    .text("KDE");

		//axis
		const min = d3.min(data),
		      max = d3.max(data);
		const minX = d3.max([0, min-max_slider]),
		      maxX = max+max_slider;

		//X axis is the same for both graphs (histogram and kde)
		const xscale = d3.scaleLinear()
		      .range([0, innerW])
		      .domain([minX, maxX])
		      .nice();
		const xAxis = d3.axisBottom()
		      .scale(xscale)
		      .ticks(8, "s");

		//Y axis has a different domain value between both graphs.
		//So yscale.domain() is defined individually for each plot.
		const yscale = d3.scaleLinear()
		      .range([0, innerH])
		      .nice();
		const yAxis = d3.axisLeft()
		      .scale(yscale)
		      .ticks(8, "s");

		//x value for kde graph
		const n = 1000;
		const x = Array(n);
		const xmin = d3.min(xscale.domain()),
		      xmax = d3.max(xscale.domain());
		for (let i=0; i<n; i++) { x[i] = xmin + i*(xmax-xmin)/n; }

		//Compute kde function for min bandwidth value to determine to determine
		//the max value of Y axis. Only happens one time when loading the webpage.
		const kde = kernelDensityEstimation(data, min_slider);
		const v = new Array(n);
		for (let i=0; i<n;i++){ v[i] = kde(x[i]);}
		const maxYkde = d3.max(v),
		      maxYhist = d3.max(histogram(data, max_slider, min, max));

		//background
		pdfgraph
		    .append("rect")
  		    .attr("x", 0)
  		    .attr("y", 0)
  		    .attr("width", innerW)
  		    .attr("height", innerH)
  		    .attr("class","background axis");

		// x Axis
		const gxAxis = pdfgraph
	              .append("g")
	              .attr("transform","translate(0"+","+innerH+")")
	              .attr("class", "axis")
	              .call(xAxis);

		// y Axis
		const gyAxis = pdfgraph
	              .append("g")
	              .attr("class", "axis")
	              .call(yAxis);

		// X Axis title
		pdfgraph.append("text")
		    .attr("class", "axisTitle")
		    .attr("x", innerW/2)
		    .attr("y", innerH+40)
		    .text("Estimated "+inputs.yLabel);

		plot_chosen_graph(d3.select(this), "hist");

		function plot_chosen_graph(container, choice) {


		    container.selectAll(".bar").remove();
		    container.select(".mypath").remove();
		    container.select(".ytitle").remove();

		    // Erasing control panels if it exists and initializing it
		    const control_container = d3.select("#kde-controler-"+i);
		    const slider = control_container.select("#slider-"+i);
		    const slidertitle = control_container.select("#slidertitle-"+i);
		    if (!slider.empty())  {
			slider.remove();
		    }
		    if (!slidertitle.empty())  {
			slidertitle.remove();
		    }

		    //Hist part
		    if (choice=="hist") {
			// Defined yAxis
			yscale.domain([maxYhist, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", 10)
			    .attr("y", innerH/2)
			    .text("Count");

			const barwidth = vslider;

			const update_hist =
			      plot_histogram(pdfgraph, data, barwidth, xscale, yscale);

			//slider
			control_container
			    .insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Barwidth");

			control_container
			    .insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) => {
				      if (value > 0) {
					  vslider=value;
					  update_hist(vslider);}}));
		    } else {
			//Defined yAxis
			yscale.domain([maxYkde, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", +10)
			    .attr("y", innerH/2)
			    .text("Density");

			const bandwidth = vslider;
			const update_kde = plot_kde(pdfgraph, data, bandwidth, xscale, yscale, x);

			//slider
			control_container.insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Bandwidth");

			control_container.insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) =>
				      {if (value > 0) { vslider=value; update_kde(vslider);}}));
		    }; // end else
		}; // end function
	    }; //end else (available kde data)
	}); //end function // end each
    }; //end if



function plot_summarize_bar_graph(container, inputs) {

    const hbar = d3.min([60*inputs.series.length, hsvg]);
    const innerHbar = hbar - marginbar.top - marginbar.bottom;

    const xb = d3.scaleLinear()
	  .range([0, innerWbar])
	  .domain([0, d3.max(inputs.series, serie => serie.result.estimate)])
	  .nice();
    const yb = d3.scaleBand()
	  .range([0, innerHbar])
	  .padding(0.2)
	  .domain(inputs.series.map(serie => serie.name));
    const xbAxis = d3.axisBottom()
	  .scale(xb)
	  .ticks(8, "s");
    const ybAxis = d3.axisLeft()
	  .scale(yb);

    const bargraph =
	container.append("svg")
	.attr("width", wbar)
	.attr("height", hbar);

    // background
    bargraph.append("rect")
  	.attr("x", marginbar.left)
  	.attr("y", marginbar.top)
  	.attr("width", innerWbar)
  	.attr("height", innerHbar)
  	.attr("class", "background axis");
    // x Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+(hbar-marginbar.bottom)+")")
	.attr("class", "axis")
	.call(xbAxis);
    // x axis title
    bargraph.append("text")
	.attr("class", "axisTitle")
	.attr("x", wbar/2)
	.attr("y", hbar-10)
	.text("Estimated "+inputs.yLabel);
    // y Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.bottom+")")
	.attr("class", "axis")
	.call(ybAxis);

    // Bargraph
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.top+")")
	.selectAll(".bar")
   	.data(inputs.series)
	.enter()
	.append("rect")
	.attr("class", "bar")
	.attr("y", serie => yb(serie.name))
	.attr("height", yb.bandwidth)
	.attr("x", serie => 0)
	.attr("width", serie => xb(serie.result.estimate))
	.attr("fill", "#4ECDC4")
	.on("mouseover", function (serie) {
	    // Specify where to put label of text
	    bargraph.append("text")
		.attr("class", "axisTitle")
		.attr("id", "tt")
		.attr("x", wbar-200)
		.attr("y", marginbar.top-10)
		.text("Value: "+d3.format(".4s")(serie.result.estimate));
	})
        .on("mouseout", function (serie) {
	    // Select text by id and then remove
	    d3.selectAll("#tt").transition().duration("50").remove();
	});

};

// [histrogram (data, barwidth, min, max)] computes histogram
// values as follows:
// - a value [v] of [data] contributes to the bar between [u] and
// [u+barwidth] if u <= v < u+barwidth
// - the [i]th bar is between [min+i*barwidth] and [min+(i+1)*barwidth]
// - [max] is used only to determine the number of bars. It MUST be greater
// than [d3.max(data)]
function histogram(data, barwidth, min, max) {
    const nbar = Math.floor((max-min)/barwidth)+1;
    let hist = new Array(nbar);
    for (let i=0; i<nbar; i++) {
	hist[i]=0;
    }

    data.forEach(function(v) {
	const ind = Math.floor((v-min)/barwidth);
	hist[ind] ++;
    });

    let n = data.length;
    for (let i=0; i<nbar; i++) {
	hist[i] = hist[i];
    }

    return hist;
}

// [plot_histogram(container, data, bandwidth, xscale, yscale)]
// draws the histogram computes with
// [histogram(data, barwidth, d3.min(data), d3.max(data)]
// in the html element [container].
//
// Axis are already defined on [container], using [xscale] and [yscale].
//
// In addition, this function returns the update function
// that redraw the bar if called with a new barwidth.
function plot_histogram(container, data, barwidth, xscale, yscale) {
    const min = d3.min(data),
	  max = d3.max(data);
    const hist = histogram(data, barwidth, min, max);
    const sample_nb = data.length;

    const print_value = function (v) {
	container.append("text")
	    .attr("class", "axisTitle")
	    .attr("id", "tt2")
	    .attr("x", wsvg-170)
	    .attr("y", 20)
	    .text("Value: "+d3.format("d")(v)+" / "+d3.format("d")(sample_nb));};

    const rects = container
	  .selectAll(".bar")
   	  .data(hist)
	  .enter();

    rects.append("rect")
	.attr("class", "bar")
	.attr("x", (v, i) => xscale(i*barwidth+min))
	.attr("width", (v, i) => xscale(barwidth)-xscale(0))
	.attr("y", (v, i) => yscale(v))
	.attr("height", (v, i) => innerH-yscale(v))
	.on("mouseover", print_value)
        .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());

    function update_hist(nbarwidth) {
	//compute new histograph values
	const nhist = histogram(data, nbarwidth, min, max);

	const rects = container
	      .selectAll(".bar")
   	      .data(nhist);

	rects.exit().remove();

	rects.enter().append("rect").attr("class", "bar")
	    .merge(rects)
	    .attr("x", (v, i) => xscale(i*nbarwidth+min))
	    .attr("width", (v, i) => xscale(nbarwidth)-xscale(0))
	    .attr("y", (v, i) => yscale(v))
	    .attr("height", (v, i) => innerH-yscale(v))
	    .on("mouseover", print_value)
            .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());
    }
    return update_hist;
};

// [kernelDensityEstimation(data, bandwith] returns the function x -> kde(x)
//    for [data]. The kernel function used is a gaussian.
function kernelDensityEstimation(X, bandwidth) {
    //gaussian constante
    const a = 1/(2*bandwidth*bandwidth);
    const b = bandwidth * SQRT_2PI;
    const gaussianKernel =
	  function (x) {
	      return Math.exp(-a * x * x) / b;
	  };

    return function (x) {
        let i = 0;
        let sum = 0;
        for (i = 0; i < X.length; i++) {
	    sum += gaussianKernel(x - X[i])/X.length;
        }
	return sum ;
    };
}

// [plot_kde(container, data, bandwidth, xscale, yscale, x)] draws
// the kde function computes with [kde(data, bandwidth)]
// for the abscisse values defined by [x], in the html element
// [container].
//
// Axis are already defined on [container], using [xscale] and
// [yscale].
//
// In addition, this function returns the update function that
// redraw the curve if called with a new bandwidth.
function plot_kde(container, data, bandwidth, xscale, yscale, x) {
    const n = x.length;
    const kde = kernelDensityEstimation(data, bandwidth);
    const density = new Array(n);

    for (let i=0; i<n;i++){
	let tmp = x[i] ;
	density[i] = [tmp, kde(tmp)];
    }

    const graph = container
	  .append('g')
	  .append("path")
	  .attr("class", "mypath")
	  .datum(density)
	  .attr("fill", "#4ECDC4")
	  .attr("opacity", ".8")
	  .attr("stroke", "#292F36")
	  .attr("stroke-width", 1)
	  .attr("stroke-linejoin", "round")
	  .attr("d",
		d3.line()
		.curve(d3.curveBasis)
		.x(d => xscale(d[0]))
		.y(d => yscale(d[1])));

    function update_kde(nbandwidth) {
	let kde = kernelDensityEstimation(data, nbandwidth);

	for (let i=0; i<n;i++){
	    density[i][1] = kde(density[i][0]);
	}

	graph.datum(density)
	    .transition()
	    .duration(50)
	    .attr("d",
		  d3.line()
		  .curve(d3.curveBasis)
		  .x(d => xscale(d[0]))
		  .y(d => yscale(d[1])));
    };

    return update_kde;
};

};


var contents = null;
contents = {"xLabel":"run","yLabel":"monotonic-clock","series":[{"name":"factorial imperative 10","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":62,"time":780307075},"dataset":[{"x":1,"y":250098},{"x":2,"y":506527},{"x":3,"y":768764},{"x":4,"y":1112383},{"x":5,"y":1280361},{"x":6,"y":1594197},{"x":7,"y":1976757},{"x":8,"y":2054885},{"x":9,"y":2261838},{"x":10,"y":2605505},{"x":11,"y":2978606},{"x":12,"y":3138004},{"x":13,"y":3353511},{"x":14,"y":3815113},{"x":15,"y":3929628},{"x":16,"y":4092329},{"x":17,"y":4559182},{"x":18,"y":4695663},{"x":19,"y":5109138},{"x":20,"y":5107798},{"x":21,"y":5492159},{"x":22,"y":5698181},{"x":23,"y":5995027},{"x":24,"y":6327863},{"x":25,"y":6532945},{"x":26,"y":7043230},{"x":27,"y":7891168},{"x":28,"y":7954638},{"x":29,"y":7604055},{"x":30,"y":7855425},{"x":31,"y":8113412},{"x":32,"y":8737094},{"x":33,"y":8653007},{"x":34,"y":9042664},{"x":35,"y":9080205},{"x":36,"y":9272978},{"x":37,"y":9614759},{"x":38,"y":10010210},{"x":39,"y":10782325},{"x":40,"y":10699459},{"x":41,"y":10862956},{"x":42,"y":11076888},{"x":43,"y":11426064},{"x":44,"y":11376878},{"x":45,"y":11735442},{"x":46,"y":12030843},{"x":47,"y":12412827},{"x":48,"y":12405671},{"x":49,"y":12972749},{"x":50,"y":13290818},{"x":51,"y":13742489},{"x":52,"y":13490273},{"x":53,"y":13932475},{"x":54,"y":14182385},{"x":55,"y":14703528},{"x":56,"y":14757021},{"x":57,"y":15259597},{"x":58,"y":15030975},{"x":59,"y":15449969},{"x":60,"y":15564733},{"x":61,"y":16076223},{"x":62,"y":16354732}],"kde":[326726,249885,249847,314493,316040,249860,249863,255258,249843,249850,249850,298156,249858,249849,249864,290627,249868,249868,254974,265984,257514,249850,254984,249851,249834,249826,296146,249843,249846,249846,254681,249857,249844,249834,287659,263457,249849,282956,305553,249864,249834,302061,290652,249863,249870,254862,249846,249853,249854,254483,262977,249852,289177,326433,249852,249855,255106,249866,249839,249899,254774,249852,249861,249858,287847,262479,249863,308593,270878,249858,249843,294183,249888,249840,249843,297039,249847,342290,249855,288282,343185,249842,249843,249846,255395,249863,249844,249827,335871,249849,249841,255028,249852,249859,249858,266554,249868,249865,249848,256406,249838,249836,249838,293928,249871,249847,256731,249880,249860,249845,290571,263073,249855,249837,303843,249857,322417,334896,331722,255257,255312,262631,255187,255173,255165,261366,269832,255166,262042,255171,255179,265866,260369,255182,290498,267208,256068,249851,249861,249862,290341,262468,249851,288371,249849,249860,249828,315634,250043,249861,249871,329629,249871,249955,308910,331619,266395,249854,255010,249853,249853,254693,249863,249838,249853,254785,249860,249852,258154,254953,249857,262341,249856,269842,249860,249876,249847,293579,249847,321942,255011,249841,249880,249841,293703,249829,264267,249833,265343,249870,331213,249886,270598,336817,267670,249881,249876,254906,251389,249836,249851,307788,249860,249843,249833,255886,249857,249870,249875,255375,249880,249844,254881,249855,249862,251435,254798,263162,249868,252500,311870,266581,249871,251474,293620,257686,249867,284344,267303,249854,249843,369667,249855,262766,249860,255229,249861,249857,249841,255188,249838,249852,287117,309039,249855,249839,254819,262172,251369,249845,255474,249855,252346,249865,288630,249838,251451,255422,249841,249847,251658,291449,259218,263214,249827,327172,249830,249834,249853,337437,288936,249839,294563,250277,249921,249848,255718,249864,265911,249856,255267,252132,249855,254961,249849,252439,249849,255336,249849,251582,249856,289643,249846,268797,249873,255837,249850,249832,249832,292939,249839,249854,255175,339528,337183,249853,321860,309200,285778,249866,249855,255251,249823,249825,253107,255126,249859,249850,251659,256460,249834,249847,251828,256649,265204,249845,251471,255689,249884,249870,249856,255019,249840,249837,275181,263839,249862,249853,254992,262046,249864,249858,326959,251578,249849,273439,326809,286326,249868,291077,249877,252183,249850,255397,263184,251568,249838,255635,249847,249837,264215,249841,249850,249853,255263,249851,249849,249828,288007,249833,338206,249847,257007,249850,249829,249847,348015,300957,249849,294840,252864,249866,249863,305152,302892,249856,290071,249850,251767,249847,255474,249838,249851,249857,254930,249851,249841,255094,249841,249849,261760,256832,249841,249862,249866,292895,249860,249852,249841,256522,249842,249844,249852,289283,249865,262470,265368,251840,260021,296653,256305,252278,355089,267107,249864,249855,288800,249844,249834,249846,256870,263048,249844,282871,249850,249833,249853,255041,249869,249854,249837,255377,251367,249844,249843,336030,264804,249853,255529,249849,251642,249827,293341,249853,251430,249862,303504,249858,249861,249853,307775,301248,249852,281540,263938,249844,249833,289362,249844,249849,249882,301624,249869,249879,288210,251674,261129,249859,255264,251852,249836,249839,296741,252117,249845,249851,255198,249862,249850,249846,295661,249858,261967,256096,249853,277744,274122,325326,377514,249849,249871,249852,280326,266808,251328,249849,266917,249841,251234,249856,323718,266956,252477,257678,249867,249857,261254,255368,295140,249842,249842,303568,249874,249833,249848,295619,249845,249846,277974,264400,249859,249852,306503,249857,249855,288886,322627,323979,290579,256812,272956,288298,293126,249856,249862,251915,255445,249833,249847,263825,257834,249847,263146,249831,255755,249839,249852,249851,293446,303619,268842,255276,249859,249861,249844,321278,285578,249908,249840,327839,252270,249837,326552,305513,286589,249859,256799,249851,251648,277511,269702,262444,251364,255821,249846,249829,249842,255149,249857,249860,249841,254885,249838,249839,249848,288859,249863,263076,288159,251860,249869,249878,288603,251481,249848,249830,255142,251695,298644,249853,249857,312619,282750,249839,249836,255452,249854,249862,249846,255015,249845,249850,249841,327099,249839,249852,249848,269679,249859,249850,249879,255369,255457,249859,274147,264373,251478,249851,255205,249874,251467,249870,288369,274969,251644,249836,338051,249840,249844,332731,289157,249844,249842,255324,249848,249872,249863,288551,261374,249853,255378,249873,249847,249836,255259,251460,249852,249858,255122,251387,249857,249831,288096,268655,249869,249864,256917,253228,249841,249850,288309,249874,249854,282898,264887,249855,249839,352288,304179,255187,260966,255181,255166,255160,260382,255167,255166,255160,262526,255159,255156,255157,261842,255181,270040,255155,282383,249860,249826,279481,268534,249839,249844,255603,249861,249858,249852,295690,249861,249855,249836,262135,249854,326525,249871,273567,334985,325836,250337,249907,297150,302031,251381,331294,250204,255173,277838,319772,249873,254972,299447,272977,249842,249836,256733,249858,249853,249846,287418,349121,249854,255291,249831,249842,249851,307945,249859,249860,249863,293163,251454,249861,315826,314438,251529,249854,255613,249865,251523,249875,255203,249869,251559,277913,255010,249881,249864,255184,249887,261959,249854,255249,249838,249835,249839,291638,249839,249861,249846,255536,249850,249824,249841,337178,381970,250017,295526,252595,249857,256365,294226,333917,255206,268897,255166,257047,255146,312561,255188,270080,300958,274474,354231,261083,255164,255199,255193,260881,264857,249860,249868,288532,249867,265358,249845,255404,251590,249853,288223,249875,250569,249835,255389,249851,289563,254893,249857,272523,329531,249874,249848,249839,256751,249842,249856,249850,255493,249849,249840,276923,271148,249842,249842,255186,262724,251734,249841,327492,300070,267566,331515,250086,249845,251530,255263,249876,249855,251682,289212,326463,249855,302801,263585,249857,302616,300885,252929,323061,258840,249874,249867,249862,255502,251112,312021,249868,336809,249872,252061,255430,249844,257981,251678,288216,249841,249845,251515,288552,309376,268856,261202,249855,249865,249857,296581,249861,249841,249834,255077,249834,326234,249845,288402,327994,269478,249860,249850,289993,249852,249835,249838,338911,361150,249849,326055,276896,250136,296616,313427,251638,249844,289337,298108,251763,294402,268676,303214,257076,279475,249839,249856,259790,357400,249845,249838,326843,249855,249862,307281,313065,249975,249842,255362,249851,252370,249853,255259,309237,251455,249868,292180,249876,251698,256557,249868,249838,251545,255595,249846,249863,249868,288529,266933,249858,249856,255425,267935,249854,249857,289298,249856,249834,289983,269243,249853,249847,297315,331163,272598,249882,257229,251849,259752,255424,249853,251729,249853,255110,269970,304891],"result":{"estimate":263834.1688970814,"r_square":0.9984596970731409}},{"name":"factorial functional 10","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":27,"time":1023590587},"dataset":[{"x":1,"y":1765607},{"x":2,"y":2882710},{"x":3,"y":4543779},{"x":4,"y":5875389},{"x":5,"y":7339692},{"x":6,"y":8738638},{"x":7,"y":10249349},{"x":8,"y":11950137},{"x":9,"y":12911962},{"x":10,"y":13603747},{"x":11,"y":16121127},{"x":12,"y":17457951},{"x":13,"y":18537524},{"x":14,"y":19299556},{"x":15,"y":20383066},{"x":16,"y":21405178},{"x":17,"y":24417518},{"x":18,"y":24313846},{"x":19,"y":25153782},{"x":20,"y":27551033},{"x":21,"y":29002205},{"x":22,"y":29636040},{"x":23,"y":31119615},{"x":24,"y":32896704},{"x":25,"y":33872607},{"x":26,"y":35611488},{"x":27,"y":36581343}],"kde":[1392614,1305681,1303087,1283654,1338767,1489607,1265704,1327280,1329358,1273118,1426837,1298623,1405264,1377333,1387105,1353074,1322286,1255744,1294629,1375875,1478135,1349899,1273007,1275350,1288932,1385257,1296498,1304403,1419358,1329155,1318927,1306268,1376551,1378790,1360664,1482321,1294052,1284455,1303488,1301738,1280453,1366182,1373899,1258245,1339423,1391992,1375089,1281154,1345877,1344920,1458283,1395588,1280584,1258374,1314518,1270842,1321035,1473508,1433577,1284954,1536738,1256683,1265673,1324390,1360464,1448777,1305595,1317942,1282653,1279251,1361620,1303783,1464616,1310960,1330324,1351739,1391936,1284989,1358948,1312955,1339192,1346299,1379210,1360215,1506183,1760785,1835976,1350094,1408410,1328863,1463924,1291599,1479382,1494922,1345493,1575762,1263063,1278859,1419160,1279921,1362287,1358609,1299889,1319320,1358191,1271621,1396796,1288606,1509689,1326616,1376327,1255289,1296795,1304767,1350877,1286599,1360325,1271633,1384668,1351509,1263417,1272954,1367214,1496157,1449834,1404055,1267754,1271921,1343503,1365844,1376448,1551424,1333452,1347985,1364692,1259603,1314116,1320942,1445944,1373676,1354933,1267644,1302307,1453805,1312232,1358190,1348342,1292687,1293116,1304154,1283628,1340081,1409297,1415866,1314198,1373112,1370254,1273857,1285066,1261698,1404502,1370430,1272759,1309227,1292613,1252919,1302533,1344204,1543714,1350526,1280120,1257941,1326004,1267790,1358640,1605697,1265168,1389908,1553450,1411474,1524947,1435999,1437865,1436898,1332634,1286186,1377884,1356900,1303756,1409878,1328748,1327271,1332279,1357318,1540095,1402234,1288159,1451729,1393904,1267869,1322079,1395761,1348738,1255742,1436458,1312403,1342119,1400396,1372428,1392076,1390278,1384549,1345348,1429495,1270880,1315781,1496764,1342549,1254525,1370705,1355195,1277347,1283922,1302859,1275344,1322512,1446404,1294134,1324094,1364133,1266192,1439358,1316953,1290988,1337489,1432942,1632231,1517459,1254958,1275555,1378283,1529120,1390263,1312227,1356234,1410136,1301680,1275397,1418383,1411479,1285113,1350365,1377299,1364490,1645249,1499973,1316094,1376543,1253861,1272351,1380232,1258005,1320975,1452987,1410221,1337268,1531778,1288531,1299934,1429441,1492207,1446636,1324958,1356910,1521148,1385527,1283296,1538924,1322492,1349889,1438384,1324656,1365751,1365297,1477502,1377246,1359515,1349857,1253815,1371048,1373403,1266991,1356666,1307507,1273018,1335839,1318653,1285468,1337070,1442545,1303326,1737484,1351306,1348157,1339554,1298739,1447834,1364427,1338219,1254065,1336388,1420566,1302045,1299436,1515942,1326649,1296837,1252505,1258245,1391243,1264652,1429656,1285719,1337470,1255413,1324682,1279097,1367983,1485348,1430308,1326410,1296890,1271642,1298847,1290119,1371623,1374011,1257814,1276964,1330812,1313967,1286656,1318931,1317757,1490910,1322531,1285124,1272670,1333832,1340864,1286035,1390304,1486595,1282593,1372228,1302869,1310458,1419422,1281368,1374703,1334051,1269683,1310797,1308417,1411036,1277412,1349702,1425888,1331947],"result":{"estimate":1372010.825396826,"r_square":0.9970168328389823}},{"name":"factorial imperative 50","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":26,"time":1002777057},"dataset":[{"x":1,"y":1427106},{"x":2,"y":2800993},{"x":3,"y":4182177},{"x":4,"y":5628193},{"x":5,"y":6841869},{"x":6,"y":8339973},{"x":7,"y":9779184},{"x":8,"y":11147606},{"x":9,"y":12579998},{"x":10,"y":13883761},{"x":11,"y":15514645},{"x":12,"y":16663123},{"x":13,"y":18112709},{"x":14,"y":19505096},{"x":15,"y":20999878},{"x":16,"y":22335675},{"x":17,"y":23972366},{"x":18,"y":28004656},{"x":19,"y":30079523},{"x":20,"y":29513329},{"x":21,"y":29962696},{"x":22,"y":31181406},{"x":23,"y":32385149},{"x":24,"y":34111741},{"x":25,"y":36433321},{"x":26,"y":36612602}],"kde":[1344091,1439646,1467073,1369124,1428680,1368854,1454101,1473762,1413131,1467837,1336015,1381622,1347073,1424620,1335489,1390206,1689861,1363845,1369918,1383515,1421051,1436653,1456751,1497568,1388296,1420499,1348087,1335324,1455441,1676719,1438376,1336978,1587117,1550566,1376459,1407405,1432703,1502619,1336166,1379925,1348774,1336051,1407895,1392851,1622714,1388518,1457443,1335433,1468385,1402324,1449188,1425729,1338053,1371866,1356902,1409061,1440952,1391794,1421671,1447862,1470399,1375789,1336412,1436655,1373588,1432320,1429025,1335001,1422939,1349380,1418148,1379355,1391185,1470041,1357575,1380355,1335115,1387054,1382468,1390274,1461608,1399345,1390392,1477232,1415622,1420697,1432324,1419754,1408628,1382298,1387861,1386854,1423553,1388745,1468465,1437324,1452696,1387031,1369007,1380744,1346699,1495248,1370953,1425504,1423099,1384824,1350900,1369997,1550048,1335674,1413809,1379357,1417239,1369181,1407582,1424484,1488493,1515382,1372108,1376263,1383082,1379237,1441317,1366756,1373655,1372447,1387377,1407074,1425146,1427794,1492201,1413886,1402735,1397128,1418216,1400029,1422971,1499522,1369718,1465462,1351045,1368835,1384369,1374636,1503995,1335451,1349735,1406841,1348689,1407501,1381145,1665977,1472293,1368096,1414528,1373349,1375480,1402467,1484103,1544351,1370080,1410012,1443046,1419003,1413691,1442384,1376194,1373512,1388255,1335448,1373582,1390943,1413331,1480048,1470145,1412002,1380672,1375305,1372286,1465559,1350829,1339590,1346749,1414434,1409763,1640374,1521726,1340158,1347869,1337442,1408492,1349422,1398794,1472732,1335656,1375661,1396644,1369391,1452419,1398106,1450535,1398769,1379861,1340173,1373685,1444098,1393849,1374684,1473241,1335302,1415810,1385854,1424973,1368767,1434640,1461437,1394828,1336875,1373274,1382239,1369957,1462773,1501150,1341738,1335400,1352650,1374469,1335491,1430703,1504651,1377896,1383590,1339358,1375706,1424656,1466580,1565067,1336348,1482138,1346974,1362814,1352702,1356376,1444710,1353481,1460359,1409768,1335483,1476173,1374008,1418245,1385577,1335217,1343530,1397035,1376598,1426675,1383066,1499094,1348598,1335641,1445799,1434093,1423490,1376109,1629025,1336321,1382358,1409430,1397596,1538438,1421958,1479780,1391386,1335916,1340543,1408901,1370672,1425611,1463085,1340293,1370314,1442625,1370339,1370992,1467782,1488362,1341149,1348636,1396541,1368111,1382106,1415925,1500775,1379820,1339198,1350812,1336061,1417607,1384477,1470909,1375014,1350317,1452021,1335562,1423972,1411876,1580473,1536819,1445148,1378887,1394805,1335316,1390810,1409049,1541580,1396380,1417778,1336214,1421358,1372014,1386622,1467553,1363392,1382557,1351873,1518426,1422062,1433203,1672247,1569132,1341072,1377163,1485511,1377374,1441598,1528309,1448670,1372881,1391610,1416028,1438154,1509901,1383548,1472368,1335251,1453444,1463634,1381319,1465867,1371690,1415571,1394877,1335650,1368336],"result":{"estimate":1435648.184325109,"r_square":0.9944068510969321}},{"name":"factorial functional 50","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":12,"time":1007551284},"dataset":[{"x":1,"y":6272102},{"x":2,"y":12400769},{"x":3,"y":17849908},{"x":4,"y":24272966},{"x":5,"y":30264940},{"x":6,"y":37008110},{"x":7,"y":42710591},{"x":8,"y":70070582},{"x":9,"y":55989446},{"x":10,"y":61667950},{"x":11,"y":68190561},{"x":12,"y":74736142}],"kde":[6224302,5950780,6276188,6135002,6155479,6257248,6002194,6155907,6169304,6034551,6374214,6026802,6344301,5971984,6099127,6433874,6083272,6162230,6185625,6085011,6307736,6179530,5954980,6219423,6002102,6188161,6025006,6180073,6213446,6258932,6014427,6223790,5900338,6309073,6039509,6247531,6104545,6148418,6074376,6390465,5952757,6136504,6272096,6064228,6246116,6337853,6336993,6478123,5938173,6062483,6052740,6335365,6533714,6093411,6261972,6606719,6108965,6167531,6403838,6036923,6439471,6040523,6056994,6364959,5890654,6308271,6100660,6176580,6054313,6062641,6028805,6208329,6094436,6242895,6191709,6190362,6070385,6149619,6069581,5985153,6667742,6114243],"result":{"estimate":6434064.261538462,"r_square":0.9391884164593584}},{"name":"factorial imperative 100","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":18,"time":1019566232},"dataset":[{"x":1,"y":3013337},{"x":2,"y":5643541},{"x":3,"y":8892898},{"x":4,"y":11449283},{"x":5,"y":14684537},{"x":6,"y":17266695},{"x":7,"y":20306698},{"x":8,"y":24057600},{"x":9,"y":26300238},{"x":10,"y":28899539},{"x":11,"y":32069236},{"x":12,"y":35677563},{"x":13,"y":37583394},{"x":14,"y":41720542},{"x":15,"y":46153034},{"x":16,"y":50185945},{"x":17,"y":54824703},{"x":18,"y":59444159}],"kde":[2926129,2915186,2874070,2829919,3302246,3067496,3037705,2797497,2893108,3155281,2980707,3350662,2959072,2888781,2947506,3029211,2881080,2833243,3010335,2785532,2973138,3238079,2807520,2870267,2977632,2908657,2954062,2978915,2919500,2834410,2831229,2917727,2942442,2836323,2902724,2902480,2819879,2889343,2929329,2848156,2841292,2803133,2861073,2813150,2864424,2864194,2856372,2837049,2910944,2968453,2783233,2830786,2875382,2816271,2782939,3000108,2873538,2864019,2827910,2939109,2817085,2937326,2830718,3085543,2818549,2883902,2912925,2865361,3123572,2868105,3235032,2935630,2999410,2945508,2819226,2985673,2937855,2905397,3109859,2966161,3019953,2878639,3086858,3436361,3042036,3429904,3091684,3222722,2886067,3358486,3221639,3204246,3151997,3096376,3584131,3185627,3216431,3127219,3137916,3375725,3421429,3110675,3276110,2876951,3410252,3500896,3479574,3339121,3144247,3373686,3210310,3336413,3126498,3150570,3324628,3834328,3256876,3188573,3111621,3184731,3177301,3121327,3132662,3124501,3258235,3495376,3255724,3185765,3138635,3095567,3466270,2953451,3003903,3112775,3121472,3390820,3406020,3112214,3077482,2943210,3174565,3252823,3025111,2794675,2897887,3060031,3311519,3065810,3614167,3281140,3100689,3150321,3165225,3130582,3092238,2937415,3130694,3433215,3148973,2771602,2924217,2931542,3072767,2849506],"result":{"estimate":3070153.54338549,"r_square":0.990752923463627}},{"name":"factorial functional 100","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":9,"time":1091118388},"dataset":[{"x":1,"y":12567547},{"x":2,"y":25572541},{"x":3,"y":38298547},{"x":4,"y":52654905},{"x":5,"y":64911403},{"x":6,"y":77763102},{"x":7,"y":91080431},{"x":8,"y":102873315},{"x":9,"y":114991366}],"kde":[12866715,13118512,12869061,12845407,12765630,12714466,12754297,12829475,12885594,12719560,12598415,12672867,12798083,13066501,12642073,12458255,13114381,12862110,13249018,12998630,13578563,12783888,13070206,12814489,12450997,12737626,12693299,14108085,14080021,14994244,14651073,14935277,13490762,12776767,12830410,12508109,12828225,13014485,13156481],"result":{"estimate":12897667.8877193,"r_square":0.999629847309933}}]}


if (contents == null)
    d3.json("outputs.json", render);
else
    render(contents);
}

  </script>

</body>
</html>
