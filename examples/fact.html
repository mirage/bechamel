<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>
  <script src="https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <style>
    *{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
    width: 100%;
    height: 100%;
    font-family:Helvetica Neue,metric,sans-serif;
    text-rendering: optimizeLegibility;
}

.center{
    width: 500px;
    margin:auto
}

text{
    font-family: metric,sans-serif;
}

.ml {
    text-align: left
}

svg {
    overflow: hidden;
    margin: auto
}

.axis line, .axis path{
    stroke: #2E3532;
    stroke-width:1px;
}

.axisTitle, .axis text{
    fill: #2E3532;
    font-size:12px;
}

.background {
    fill: #FBFBFB;
    stroke: #2E3532;
}

.axisTitle, .chartTitle{
    text-anchor: middle
}


.ytitle {
    text-anchor: middle;
    transform: rotate(90deg)
}

.warningtext{
    text-anchor: center;
    fill: #F06449;
}

.regLine {
    stroke: #F06449;
    stroke-width:2px;
    opacity:0.7
}

.circle {
    fill: #4ECDC4;
    stroke: #292f36;
    stroke-width:0.3px
}

table {
    margin:auto;
    text-align:left;
    border-spacing: 15px 5px;
    border: 1px solid #2E3532
}

th {
    text-align: center;
    color:#F06449
}


tr {
    fill: #2E3532;
    font-size:10px
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: auto;
  background-color: #F06449;
  color: #FFFFFF;
  text-align: center;
  border-radius: 10px;
  padding: 0 5px 0 5px;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.bar {
    fill: #4ECDC4;
    stroke:#292f36;
}
.bar:hover {
    fill: #F06449;
    stroke:#292f36;
    stroke-width:1px;
}

.radio {
    margin: auto;
    width : 200px;
}

.wrapper {
    display: grid;
    margin: 50px 50px 50px 50px;
    gap: 10px 20px;
    grid-auto-rows: minmax(20px, auto);
    text-align: center;
    place-items: center;
}

.mainTitle, .summarizeTitle {
    height:30px;
    width: auto;
    border-radius: 2px;
    padding: 0 45px 0 45px;
    border-style: solid;
    border-width:1px;
    box-shadow: 2px 2px 1px rgba(0,0,0,0.1);
    color:  #2E3532;
    background: #FBFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.slidecontainer{
    width: 50%;
}

  </style>
</head>
<body>

  <script type="text/javascript">
    // structure of JSON
// { xLabel: string,
//   yLabel: string,
//   series: [ tests ] }
//
// tests := { name: string,
//            description: { start : int, sampling: float, stabilize: bool,
//                           quota: float, limit: int, instances: [string],
//                           samples: int, time : float}
//            dataset: [ point ],
//            kde : [ v: float ] (optional)
//            result: { estimate: float, r_square: float (optional) } }
//
// point := { x : double,
//            y : double }
//
// xLabel and yLabel are the same for any tests
window.onload = function () {

const wsvg = 600;
const hsvg = 400;
const wslider = 200;
const hslider = 50;
const margin = {left:50,right:50,top:20,bottom:50};
const dotSize = 1.5;
const innerW = wsvg-(margin.left+margin.right);
const innerH = hsvg-(margin.top+margin.bottom);

const marginbar = {left:150,right:150,top:50,bottom:50};
const wbar = 900;
const innerWbar = wbar-(marginbar.left+marginbar.right);

const SQRT_2PI = Math.sqrt(2 * Math.PI);

// Main function : place containers and call plot functions.
function render(inputs) {
    inputs.series.forEach(
	function(serie) {
	    serie.dataset.forEach(
		function(d) {
		    d.x = +d.x;
		    d.y = +d.y;
		});}
    );

    // First step : check if there is no kde/histogram data at all in
    // the benchmarks, in which case, we want to reduce our layout to
    // one column.
    let nonempty_kde = false;
    inputs.series.forEach(function (serie) {
	if ('kde' in serie) {
	    nonempty_kde = nonempty_kde || true;} });
    const nb_col = nonempty_kde ? 2 : 1;

    // ************************************************ //
    //              Layout of the page                  //
    // ************************************************ //
    // + a summarize bar graph on top
    // + one section for each benchmark which includes
    //     * 1 title
    //     * 1 linear regression graph and its title and information table
    //     * if kde data are available a histogram/kde graph with its control panel.
    //
    // If none of the benchmarks has kde data, the layout is the same
    // but with only one column (no hist/kde graphs).
    //
    //
    //              c1:        c2:
    //
    // r1:            *title*
    //           ___________________
    // r2:      |   summarize bar   |
    //          |___________________|
    //
    // r3:           *title-1*
    //
    // r4:        *title*   *radio*
    //           _______     _______
    // r5:      | lr-1  |   | kde-1 |
    //          |_______|   |_______|
    //
    // r6:      *infos-1*   *slider-1*
    // ..
    // r(4i+3):       *title-i*
    //
    // r(4i+4):  *title*     *radio*
    //           _______     _______
    // r(4i+5): | lr-i  |   | kde-i |
    //          |_______|   |_______|
    //
    // r(4i+6): *infos-i*   *slider-i*
    //
    // etc ..

      const main = d3.select("body")
	  .append("div")
	    .attr("class", "wrapper")
	    .style("grid-template-columns", (nonempty_kde ? "repeat(2,"+wsvg+"px)" : "900px"))
	    .attr("id", "main");

    // ************************************************ //
    //              Summarize bar graph                 //
    // ************************************************ //

    // Title
    main.append("div")
   	  .style("grid-row", "1")
      	.style("grid-column", "1 / "+(nb_col+1))
  	  .attr("class", "summarizeTitle")
  	.text("Benchmarks summary");

    // Bar graph
    let bar_container = main
	.append("div")
   	  .style("grid-row", "2")
      	  .style("grid-column", "1 / "+(nb_col+1))
	  .attr("id", "bar");
    plot_summarize_bar_graph(bar_container, inputs);


    // ************************************************ //
    //              Layout for lr/kde graphs            //
    // ************************************************ //

    // Benchmark titles
    const titles = main
	  .selectAll(".mainTitle")
	  .data(inputs.series)
	  .enter()
	  .append("div")
	    .attr("id", (data, i) => "title-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+3))
      	    .style("grid-column", "1 / "+(nb_col+1))
  	    .attr("class","mainTitle")
	  .append("text")
  	    .attr("x", wsvg)
  	    .attr("y", margin.top-10)
            .text((data, i) => "#"+data.name);

    // Linear regression graph titles
    const titles_lr = main
	  .selectAll("#title_lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("id",  "title_lr")
   	    .style("grid-row", (data,i) =>""+(4*i+4))
   	    .style("grid-column", "1")
	  .append("text")
  	    .attr("class","chartTitle")
  	    .text("Linear regression");

    // Containers for linear regression graphs
    const lr_graphs = main
	  .selectAll(".lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr")
	    .attr("id", (data, i) => "linearRegression-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+5))
   	  .style("grid-column", "1");

    // Containers for linear regression info tables
    const lr_info = main
	  .selectAll(".lr-info")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr-info")
	    .attr("id", (data, i) => "lr-info-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+6))
            .style("grid-column", "1");

    let radio_div, kde_graphs, kde_controler;
    if (nonempty_kde) {
	// Containers for radio buttons to choose between histogram/kde plots
	radio_div = main
	      .selectAll(".radio_div")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class",  "radio")
	      .attr("id", (d, i) => "radio_div"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+4))
   	      .style("grid-column", "2");

	// Containers for kde/hist graph
	kde_graphs = main
	      .selectAll(".kde")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde")
	      .attr("id", (data, i) => "histKde-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+5))
   	      .style("grid-column", "2");

	// Containers for kde/hist controlers
	kde_controler = main
	      .selectAll(".kde-controler")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde-controler")
	      .attr("id", (data, i) => "kde-controler-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+6))
              .style("grid-column", "2");
    }

    // ************************************************ //
    //          Linear regression graph                 //
    // ************************************************ //
    lr_graphs.each( function(serie, i) {
	//Curves for each input
	const xMin = 0;
	const xMax = d3.max(serie.dataset, d => d.x);
	const yMin = 0;
	const yMax = d3.max(serie.dataset, d => d.y);

	// Define x axis
	const xScale = d3.scaleLinear()
  	      .domain([xMin,xMax])
  	      .range([0,innerW])
  	      .nice();
	const xAxis = d3.axisBottom()
  	      .scale(xScale)
  	      .ticks(8, "s");
	// "s" = number format such as 1000 -> 1k

	// Define y axis
	const yScale = d3.scaleLinear()
  	      .domain([yMin,yMax])
  	      .range([innerH,0])
  	      .nice();
	const yAxis = d3.axisLeft()
  	      .scale(yScale)
  	      .ticks(8, "s");

	// Svg
  	const plot = d3.select(this)
	    .append("svg")
  	      .attr("width",wsvg)
  	      .attr("height",hsvg);
	// Color background
	plot.append("rect")
  	    .attr("x",margin.left)
  	    .attr("y",margin.top)
  	    .attr("width",innerW)
  	    .attr("height",innerH)
  	    .attr("class","background axis");
	// Plot axis
	plot.append("g")
  	    .attr("transform",
	 	  "translate("+margin.left+","
	 	  +(hsvg-margin.bottom)+")")
	    .attr("class", "axis")
  	    .call(xAxis);
	plot.append("g")
  	    .attr("transform",
	  	  "translate("+margin.left+","
		  +margin.top+")")
	    .attr("class", "axis")
  	    .call(yAxis);
	// Print axis titles
	plot.append("text")
	    .attr("class", "axisTitle")
	    .attr("x", wsvg/2)
	    .attr("y", hsvg-10)
	    .text(inputs.xLabel);
	plot.append("text")
	    .attr("class", "axisTitle ytitle")
	    .attr("transform-origin", 0, hsvg/2)
	    .attr("x", 0)
	    .attr("y", hsvg/2)
	    .text(inputs.yLabel);

	// Plot data
	plot.append("g")
	    .attr("transform",
		  "translate("+margin.left+","
		  +margin.top+")")
  	    .selectAll("circle")
  	    .data(serie.dataset)
  	    .enter()
  	    .append("circle")
	    .attr("class", "circle")
  	    .attr("r", dotSize)
  	    .attr("cx", d => xScale(d.x))
  	    .attr("cy", d => yScale(d.y));

	// Plot linear regression line

	const xVals = serie.dataset.map((e,j) => e.x);
	const yVals = serie.dataset.map((e,j) => e.y);
	const pairs = [];
	xVals.forEach((d,i) => pairs.push([xVals[i],yVals[i]]));
	const linReg = ss.linearRegression(pairs);
	const linRegLine = ss.linearRegressionLine(linReg);
	let line = plot
	    .append("line")
    	      .attr("transform","translate("+margin.left+","+margin.top+")")
    	      .attr("class","regLine")
    	      .attr("x1",xScale(xMin))
    	      .attr("x2",xScale(xMin))
    	      .attr("y1",yScale(linRegLine(xMin)))
    	      .attr("y2",yScale(linRegLine(xMin)));
	line.transition().duration(1000).delay(2000)
    	      .attr("x2",xScale(xMax))
    	      .attr("y2",yScale(linRegLine(xMax)));

	// Add text boxes
	//const meanX = ss.mean(xVals).toFixed(0);
	//const meanY = ss.mean(yVals).toFixed(2);
	//const varX = ss.sampleVariance(xVals).toFixed(0);
	//const varY = ss.sampleVariance(yVals).toFixed(1);
	//const corCoeff = ss.sampleCorrelation(xVals,yVals).toFixed(3);

	const lr_results = [
	    ["Linear regression line", "y = "+linReg.b.toFixed(2)+" + "+linReg.m.toFixed(3)+"x"],
	    ["Coefficient", serie.result.estimate],
	    ["RÂ²", serie.result.r_square]
	];

	const sampling_to_string = sampling =>
              (Number.isInteger(sampling) ?  "`Linear "+sampling+"" : "`Geometric "+sampling+"");

	const format = v  => d3.format("s")(v);

	const param_benchmarks = [
	    ["LR sampling (sampling)", sampling_to_string(serie.description.sampling)],
	    ["Start (start)", serie.description.start],
	    ["Benchmark runtime (time / quota)",
	     format(serie.description.time) + " / " + format(serie.description.quota)],
	    ["Number of runs (samples)", serie.description.samples + " / " + serie.description.limit],
	    ["Stabilized GC (stabilize)", serie.description.stabilize]
	];

	const table = d3.select("#lr-info-"+i)
	      .append("table");

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Linear regression results");

	table.append("tbody")
	    .selectAll("tr")
	    .data(lr_results)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("class", "tooltip")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Benchmarks parameters")
	    .append("span")
	    .attr("class","tooltiptext")
	    .text("See [Benchmarks.stats]");

	table.append("tbody")
	    .selectAll("tr")
	    .data(param_benchmarks)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

    });

    // ************************************************ //
    //         Histogram and kde graphs                 //
    // ************************************************ //
    if (nonempty_kde) {
        kde_graphs.each(function (serie, i) {

	    // Svg for histogram and kde graphs
	    let pdfgraph = d3.select(this)
		.append("svg")
		.attr("id", "pdfgraph")
		.attr("width", wsvg)
		.attr("height", hsvg)
		.append("g")
		.attr("transform", "translate("+margin.left+","+margin.top+")");

	    // If there is no kde field in the data [serie], some note
	    // is written in the svg window.
	    if (!('kde' in serie)) {
		pdfgraph.append("text")
		    .attr("x", (margin.left+margin.right+wsvg)/2)
		    .attr("y", (margin.top+margin.bottom+hsvg)/2)
		    .attr("class", "warning")
		    .text("No available data");
	    } else if (d3.max(serie.kde) == d3.min(serie.kde)) {
		pdfgraph.append("text")
		    .attr("x", wsvg/2)
		    .attr("y", hsvg/2)
		    .attr("class", "warningtext")
		    .text("All data have same value.");
	    } else {
		const data = serie.kde;
		//Some default values
		const min_slider = (d3.max(data)-d3.min(data))/data.length;
		const max_slider = (d3.max(data)-d3.min(data))/30;
		let vslider = min_slider;

		//Radio buttons
		const form = d3.select("#radio_div"+i)
		      .append("form");

		form.append("input")
		    .attr("type", "radio")
		    .attr("name", "graph")
		    .attr("value", "hist"+i)
		    .attr("name", "graph")
		    .attr("checked", "checked")
		    .on("change", () => plot_chosen_graph(d3.select(this), "hist"));
		form.append("label")
		    .attr("for", "hist"+i)
		    .text("Histogram");
		form.append("input")
		    .attr("type", "radio")
		    .attr("value", "kde"+i)
		    .attr("name", "graph")
		    .on("change", () => plot_chosen_graph(d3.select(this), "kde"));
		form.append("label")
		    .attr("for", "kde"+i)
		    .text("KDE");

		//axis
		const min = d3.min(data),
		      max = d3.max(data);
		const minX = d3.max([0, min-max_slider]),
		      maxX = max+max_slider;

		//X axis is the same for both graphs (histogram and kde)
		const xscale = d3.scaleLinear()
		      .range([0, innerW])
		      .domain([minX, maxX])
		      .nice();
		const xAxis = d3.axisBottom()
		      .scale(xscale)
		      .ticks(8, "s");

		//Y axis has a different domain value between both graphs.
		//So yscale.domain() is defined individually for each plot.
		const yscale = d3.scaleLinear()
		      .range([0, innerH])
		      .nice();
		const yAxis = d3.axisLeft()
		      .scale(yscale)
		      .ticks(8, "s");

		//x value for kde graph
		const n = 1000;
		const x = Array(n);
		const xmin = d3.min(xscale.domain()),
		      xmax = d3.max(xscale.domain());
		for (let i=0; i<n; i++) { x[i] = xmin + i*(xmax-xmin)/n; }

		//Compute kde function for min bandwidth value to determine to determine
		//the max value of Y axis. Only happens one time when loading the webpage.
		const kde = kernelDensityEstimation(data, min_slider);
		const v = new Array(n);
		for (let i=0; i<n;i++){ v[i] = kde(x[i]);}
		const maxYkde = d3.max(v),
		      maxYhist = d3.max(histogram(data, max_slider, min, max));

		//background
		pdfgraph
		    .append("rect")
  		    .attr("x", 0)
  		    .attr("y", 0)
  		    .attr("width", innerW)
  		    .attr("height", innerH)
  		    .attr("class","background axis");

		// x Axis
		const gxAxis = pdfgraph
	              .append("g")
	              .attr("transform","translate(0"+","+innerH+")")
	              .attr("class", "axis")
	              .call(xAxis);

		// y Axis
		const gyAxis = pdfgraph
	              .append("g")
	              .attr("class", "axis")
	              .call(yAxis);

		// X Axis title
		pdfgraph.append("text")
		    .attr("class", "axisTitle")
		    .attr("x", innerW/2)
		    .attr("y", innerH+40)
		    .text("Estimated "+inputs.yLabel);

		plot_chosen_graph(d3.select(this), "hist");

		function plot_chosen_graph(container, choice) {


		    container.selectAll(".bar").remove();
		    container.select(".mypath").remove();
		    container.select(".ytitle").remove();

		    // Erasing control panels if it exists and initializing it
		    const control_container = d3.select("#kde-controler-"+i);
		    const slider = control_container.select("#slider-"+i);
		    const slidertitle = control_container.select("#slidertitle-"+i);
		    if (!slider.empty())  {
			slider.remove();
		    }
		    if (!slidertitle.empty())  {
			slidertitle.remove();
		    }

		    //Hist part
		    if (choice=="hist") {
			// Defined yAxis
			yscale.domain([maxYhist, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", 10)
			    .attr("y", innerH/2)
			    .text("Count");

			const barwidth = vslider;

			const update_hist =
			      plot_histogram(pdfgraph, data, barwidth, xscale, yscale);

			//slider
			control_container
			    .insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Barwidth");

			control_container
			    .insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) => {
				      if (value > 0) {
					  vslider=value;
					  update_hist(vslider);}}));
		    } else {
			//Defined yAxis
			yscale.domain([maxYkde, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", +10)
			    .attr("y", innerH/2)
			    .text("Density");

			const bandwidth = vslider;
			const update_kde = plot_kde(pdfgraph, data, bandwidth, xscale, yscale, x);

			//slider
			control_container.insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Bandwidth");

			control_container.insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) =>
				      {if (value > 0) { vslider=value; update_kde(vslider);}}));
		    }; // end else
		}; // end function
	    }; //end else (available kde data)
	}); //end function // end each
    }; //end if



function plot_summarize_bar_graph(container, inputs) {

    const hbar = d3.min([60*inputs.series.length, hsvg]);
    const innerHbar = hbar - marginbar.top - marginbar.bottom;

    const xb = d3.scaleLinear()
	  .range([0, innerWbar])
	  .domain([0, d3.max(inputs.series, serie => serie.result.estimate)])
	  .nice();
    const yb = d3.scaleBand()
	  .range([0, innerHbar])
	  .padding(0.2)
	  .domain(inputs.series.map(serie => serie.name));
    const xbAxis = d3.axisBottom()
	  .scale(xb)
	  .ticks(8, "s");
    const ybAxis = d3.axisLeft()
	  .scale(yb);

    const bargraph =
	container.append("svg")
	.attr("width", wbar)
	.attr("height", hbar);

    // background
    bargraph.append("rect")
  	.attr("x", marginbar.left)
  	.attr("y", marginbar.top)
  	.attr("width", innerWbar)
  	.attr("height", innerHbar)
  	.attr("class", "background axis");
    // x Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+(hbar-marginbar.bottom)+")")
	.attr("class", "axis")
	.call(xbAxis);
    // x axis title
    bargraph.append("text")
	.attr("class", "axisTitle")
	.attr("x", wbar/2)
	.attr("y", hbar-10)
	.text("Estimated "+inputs.yLabel);
    // y Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.bottom+")")
	.attr("class", "axis")
	.call(ybAxis);

    // Bargraph
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.top+")")
	.selectAll(".bar")
   	.data(inputs.series)
	.enter()
	.append("rect")
	.attr("class", "bar")
	.attr("y", serie => yb(serie.name))
	.attr("height", yb.bandwidth)
	.attr("x", serie => 0)
	.attr("width", serie => xb(serie.result.estimate))
	.attr("fill", "#4ECDC4")
	.on("mouseover", function (serie) {
	    // Specify where to put label of text
	    bargraph.append("text")
		.attr("class", "axisTitle")
		.attr("id", "tt")
		.attr("x", wbar-200)
		.attr("y", marginbar.top-10)
		.text("Value: "+d3.format(".4s")(serie.result.estimate));
	})
        .on("mouseout", function (serie) {
	    // Select text by id and then remove
	    d3.selectAll("#tt").transition().duration("50").remove();
	});

};

// [histrogram (data, barwidth, min, max)] computes histogram
// values as follows:
// - a value [v] of [data] contributes to the bar between [u] and
// [u+barwidth] if u <= v < u+barwidth
// - the [i]th bar is between [min+i*barwidth] and [min+(i+1)*barwidth]
// - [max] is used only to determine the number of bars. It MUST be greater
// than [d3.max(data)]
function histogram(data, barwidth, min, max) {
    const nbar = Math.floor((max-min)/barwidth)+1;
    let hist = new Array(nbar);
    for (let i=0; i<nbar; i++) {
	hist[i]=0;
    }

    data.forEach(function(v) {
	const ind = Math.floor((v-min)/barwidth);
	hist[ind] ++;
    });

    let n = data.length;
    for (let i=0; i<nbar; i++) {
	hist[i] = hist[i];
    }

    return hist;
}

// [plot_histogram(container, data, bandwidth, xscale, yscale)]
// draws the histogram computes with
// [histogram(data, barwidth, d3.min(data), d3.max(data)]
// in the html element [container].
//
// Axis are already defined on [container], using [xscale] and [yscale].
//
// In addition, this function returns the update function
// that redraw the bar if called with a new barwidth.
function plot_histogram(container, data, barwidth, xscale, yscale) {
    const min = d3.min(data),
	  max = d3.max(data);
    const hist = histogram(data, barwidth, min, max);
    const sample_nb = data.length;

    const print_value = function (v) {
	container.append("text")
	    .attr("class", "axisTitle")
	    .attr("id", "tt2")
	    .attr("x", wsvg-170)
	    .attr("y", 20)
	    .text("Value: "+d3.format("d")(v)+" / "+d3.format("d")(sample_nb));};

    const rects = container
	  .selectAll(".bar")
   	  .data(hist)
	  .enter();

    rects.append("rect")
	.attr("class", "bar")
	.attr("x", (v, i) => xscale(i*barwidth+min))
	.attr("width", (v, i) => xscale(barwidth)-xscale(0))
	.attr("y", (v, i) => yscale(v))
	.attr("height", (v, i) => innerH-yscale(v))
	.on("mouseover", print_value)
        .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());

    function update_hist(nbarwidth) {
	//compute new histograph values
	const nhist = histogram(data, nbarwidth, min, max);

	const rects = container
	      .selectAll(".bar")
   	      .data(nhist);

	rects.exit().remove();

	rects.enter().append("rect").attr("class", "bar")
	    .merge(rects)
	    .attr("x", (v, i) => xscale(i*nbarwidth+min))
	    .attr("width", (v, i) => xscale(nbarwidth)-xscale(0))
	    .attr("y", (v, i) => yscale(v))
	    .attr("height", (v, i) => innerH-yscale(v))
	    .on("mouseover", print_value)
            .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());
    }
    return update_hist;
};

// [kernelDensityEstimation(data, bandwith] returns the function x -> kde(x)
//    for [data]. The kernel function used is a gaussian.
function kernelDensityEstimation(X, bandwidth) {
    //gaussian constante
    const a = 1/(2*bandwidth*bandwidth);
    const b = bandwidth * SQRT_2PI;
    const gaussianKernel =
	  function (x) {
	      return Math.exp(-a * x * x) / b;
	  };

    return function (x) {
        let i = 0;
        let sum = 0;
        for (i = 0; i < X.length; i++) {
	    sum += gaussianKernel(x - X[i])/X.length;
        }
	return sum ;
    };
}

// [plot_kde(container, data, bandwidth, xscale, yscale, x)] draws
// the kde function computes with [kde(data, bandwidth)]
// for the abscisse values defined by [x], in the html element
// [container].
//
// Axis are already defined on [container], using [xscale] and
// [yscale].
//
// In addition, this function returns the update function that
// redraw the curve if called with a new bandwidth.
function plot_kde(container, data, bandwidth, xscale, yscale, x) {
    const n = x.length;
    const kde = kernelDensityEstimation(data, bandwidth);
    const density = new Array(n);

    for (let i=0; i<n;i++){
	let tmp = x[i] ;
	density[i] = [tmp, kde(tmp)];
    }

    const graph = container
	  .append('g')
	  .append("path")
	  .attr("class", "mypath")
	  .datum(density)
	  .attr("fill", "#4ECDC4")
	  .attr("opacity", ".8")
	  .attr("stroke", "#292F36")
	  .attr("stroke-width", 1)
	  .attr("stroke-linejoin", "round")
	  .attr("d",
		d3.line()
		.curve(d3.curveBasis)
		.x(d => xscale(d[0]))
		.y(d => yscale(d[1])));

    function update_kde(nbandwidth) {
	let kde = kernelDensityEstimation(data, nbandwidth);

	for (let i=0; i<n;i++){
	    density[i][1] = kde(density[i][0]);
	}

	graph.datum(density)
	    .transition()
	    .duration(50)
	    .attr("d",
		  d3.line()
		  .curve(d3.curveBasis)
		  .x(d => xscale(d[0]))
		  .y(d => yscale(d[1])));
    };

    return update_kde;
};

};


var contents = null;
contents = {"xLabel":"run","yLabel":"monotonic-clock","series":[{"name":"factorial imperative 10","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":55,"time":842920690},"dataset":[{"x":1,"y":337085},{"x":2,"y":601271},{"x":3,"y":909006},{"x":4,"y":1300124},{"x":5,"y":1757582},{"x":6,"y":2284982},{"x":7,"y":2195131},{"x":8,"y":2458234},{"x":9,"y":2962190},{"x":10,"y":3195654},{"x":11,"y":3538093},{"x":12,"y":3886821},{"x":13,"y":3986346},{"x":14,"y":4282701},{"x":15,"y":4933180},{"x":16,"y":4961792},{"x":17,"y":5227875},{"x":18,"y":5703357},{"x":19,"y":5898466},{"x":20,"y":6351517},{"x":21,"y":6520633},{"x":22,"y":6637306},{"x":23,"y":7277514},{"x":24,"y":7501530},{"x":25,"y":8178093},{"x":26,"y":8140429},{"x":27,"y":8608438},{"x":28,"y":8467010},{"x":29,"y":8919331},{"x":30,"y":9402485},{"x":31,"y":9634598},{"x":32,"y":10050631},{"x":33,"y":10312797},{"x":34,"y":10579793},{"x":35,"y":11535171},{"x":36,"y":11276296},{"x":37,"y":11864844},{"x":38,"y":12001252},{"x":39,"y":12308895},{"x":40,"y":13398931},{"x":41,"y":13212534},{"x":42,"y":13210348},{"x":43,"y":13694208},{"x":44,"y":14020394},{"x":45,"y":14047464},{"x":46,"y":15857687},{"x":47,"y":15208104},{"x":48,"y":15047879},{"x":49,"y":15562923},{"x":50,"y":16357007},{"x":51,"y":15971001},{"x":52,"y":16168937},{"x":53,"y":16682862},{"x":54,"y":16796618},{"x":55,"y":17860802}],"kde":[355525,297126,297155,331089,297225,297146,297162,302468,317614,297145,334542,297148,333308,303066,297150,297161,302012,297160,297184,389662,356664,309598,367603,310290,297137,343415,297136,297163,341856,297177,297159,302273,297254,311324,297151,342387,297166,328726,340907,315188,298168,359305,297214,319482,317475,313579,297117,315364,297146,309756,339582,297189,297132,339970,322565,310178,335386,346434,298527,396924,297126,297166,343399,297149,297166,334478,297146,297163,333629,297166,297148,317019,297144,297139,297256,334830,297167,297174,334097,297139,297160,302125,333531,297163,354189,297137,297247,349363,328933,297147,344560,333456,297172,303542,297254,297172,297157,355909,297152,297154,341434,297184,297161,369830,319496,297183,344841,297187,297151,374837,321802,303473,310820,303489,303467,309151,303452,303760,353066,338331,303489,361279,316534,303505,309456,314408,297257,302380,297132,306376,297139,339957,297144,297218,355007,312270,297152,339882,297126,297158,302409,297164,297157,337113,344657,334000,304270,311425,297150,364954,316472,297196,343805,297184,297172,303639,297194,297153,297172,335645,319152,297153,339477,297151,297226,380260,297165,297192,334689,297179,297172,334925,297257,309950,302835,297150,297282,337692,326729,297145,297226,339413,297177,297172,380247,297138,309416,302305,297164,297171,302462,297164,297176,335081,297160,297165,333995,351614,297153,361240,297356,297178,335153,297235,297190,297164,302210,297265,298320,355916,297167,297268,369742,297186,297162,339173,310429,326538,311600,297235,297184,302589,297159,297218,315085,297180,297152,340038,297503,297176,313624,297295,344363,372007,396969,451828,357261,297150,297152,339481,333570,297170,338781,297169,297159,332823,320355,297180,342285,420910,440648,312614,339490,368882,336698,297392,356014,298771,335732,350551,331278,298085,348995,297510,297230,387409,297263,298124,336981,318831,342553,344966,300886,350887,350595,333063,359021,382039,332521,333290,390075,388904,343920,338537,346169,372441,318520,330357,377023,388210,370464,360172,362774,372473,401356,371956,446932,344714,366645,303469,303522,336965,360203,333067,364568,303803,475282,321802,303478,377474,353314,454736,386790,361881,388211,357261,328014,336899,303519,352262,323461,303485,303501,393125,432701,481661,359158,436305,347893,350932,347895,331806,332254,356184,332113,331979,340809,331884,331961,365418,331922,360909,332079,332956,350050,332607,332031,343085,331834,332241,366551,332535,332509,393651,342445,342682,459226,416114,389437,340520,344786,506924,345403,564677,341806,392942,334681,341334,375911,334826,336605,401159,334691,410392,333414,347208,351261,331740,331757,344734,331747,332065,353650,346008,317204,303481,303521,394299,303496,338629,333622,309291,351691,318257,324142,347157,342050,303498,334456,303593,303498,303486,310026,303500,303478,345766,343259,303481,345095,297163,297183,342845,297188,297155,343659,297166,297187,333827,345534,297177,382079,310220,298878,302753,297182,297164,304133,297166,297121,302728,299046,297133,297160,334606,315077,297144,382115,347921,297187,303029,297153,297171,391929,299738,297165,357436,314744,297237,405130,314618,332780,302851,297175,297169,303178,297202,297182,335871,297164,310932,342566,299377,297154,303225,297181,299282,297164,340693,297167,299100,303242,297171,314419,343035,297164,297188,335369,299081,365087,297133,297169,350917,297168,297151,353755,297166,297173,388185,313621,297149,334959,297151,297154,303297,297153,338184,405622,309162,317995,332205,330084,312956,303232,297169,299143,320921,311564,297168,299461,304479,336376,314042,403477,333930,368207,314227,310217,3208556,371184,297152,307642,297273,297222,339760,340400,383664,400221,463118,316249,1974748,302873,422094,324980,341252,373533,297341,332855,302833,297155,297176,302621,297188,297197,302116,314976,297159,297193,355370,332842,297155,339629,299217,297169,334743,297185,299033,335676,309055,297160,403607,374588,412829,350290,300261,297145,339907,297152,297164,358079,310244,332545,316976,332841,297156,429791,360031,361675,316176,357124,327340,375015,440864,379029,332311,331963,342309,335253,344924,340327,332687,366192,380831,331847,331778,341692,331702,331748,338755,335095,339870,339071,331994,336161,389149,331887,340511,340063,331746,343315,331817,331713,338541,331848,331824,337849,373440,339496,331705,331709,342863,339298,331978,332380,343046,332546,331733,355346,331704,331735,357490,331847,333431,343498,335319,331691,338974,331846,334134,354212,331710,331754,344669,331780,331692,340530,333757,338509,332362,331871,342473,354676,340127,352084,331721,331715,339280,339442,332663,339799,332154,331754,351497,352372,331722,338005,331713,331687,338559,331692,331705,338025,340058,300327,354649,337221,312906,399679,317576,304523,338178,340677,325497,349571,297141,299225,303115,312133,339784,299370,297164,336487,297198,299035,340209,297149,297162,331333,349590,297160,317140,297196,297204,303001,297192,297186,297148,335627,297182,297154,389732,297226,338256,313644,297158,297174,362012,303498,303465,309625,306959,303488,308835,303480,305567,347282,348553,351787,334061,337480,314422,321386,299247,297187,380120,333510,299295,339356,309509,297151,352204,297194,349178,297179,297147,303238,297154,297143,335951,297160,310953,338353,297195,297180,326827,311723,297139,334703,315122,299295,297134,302956,297146,318205,304655,297178,297162,304952,297149,297127,364633,298928,297144,329459,359250,378438,344269,306236,297154,366042,303503,303501,347880,303475,303502,341377,330080,387023,322928,303467,303481,322132,338826,310328,315491,297179,297157,302829,297203,297151,341009,312815,299209,373760,315248,297194,380559,297158,353568,308709,300329,303755,297168,311012,341896,297194,297172,303372,299078,297151,302586,297164,297165,297155,479221,297177,316545,297172,297168,302220,297175,297175,297189,338916,297189,297161,377068,297150,297158,369927,299314,297186,342615,297168,297166,340119,297169,297137,333503,368583,297166,402601,297166,299205,336460,297163,297166,363605,337119,303477,342758,305607,303490,354506,303550,303478,335411,322669,303484,336256,317942,303469,303511,318157,297139,297162,347479,297185,297167,303008,297186,297144,366064,310873,297856,343206,326761,348879,405454,368242,297178,358645,391364,324850,342115,318289,352988,414128,385227,509903,369712,380744,372512,320413,307982,343060,303686,303490,309646,303487,303501,362982,303506,303500,342308,338774,303643,343679,310971,297174,329858,297140,297171,316249,324441,297143,297156,408621,297254,297174,346635,299225,297160,348668,297144,299764,349289,297172,297156,340269,297150,339387,389235,300155,297178,372038,333915,299480,335883,310850,297180,303065,297150,297166,325929,311622,297120,323912,320258,297186,297157,337291,358983,297164,297134,314702,305781,392576,363122,432916,323300,392215,297152,297140,319903,297200,297162,302924,299474,297129,334194,297163,299008,302926,297211,297166,312311,341152,297158,297152,386626,297177,297181,385228,333979,297177,303748,297173,297191,364893,297168],"result":{"estimate":317918.6871182871,"r_square":0.9970429095897279}},{"name":"factorial functional 10","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":25,"time":1008342634},"dataset":[{"x":1,"y":1861414},{"x":2,"y":3078229},{"x":3,"y":4574668},{"x":4,"y":5898838},{"x":5,"y":7414493},{"x":6,"y":9382891},{"x":7,"y":10410453},{"x":8,"y":11856197},{"x":9,"y":14850095},{"x":10,"y":14977894},{"x":11,"y":16119469},{"x":12,"y":17751814},{"x":13,"y":19195342},{"x":14,"y":19831992},{"x":15,"y":20831710},{"x":16,"y":26700771},{"x":17,"y":26216995},{"x":18,"y":26545298},{"x":19,"y":49222859},{"x":20,"y":27223405},{"x":21,"y":31287737},{"x":22,"y":30304611},{"x":23,"y":32542930},{"x":24,"y":34064664},{"x":25,"y":36521098}],"kde":[1359685,1349499,1420619,1318706,1463850,1421202,1428637,1354311,1362568,1318740,1319212,1396129,1311050,1349429,1324124,1317919,1371018,1545424,1434061,1458699,1537195,1435855,1404448,1388466,1546941,1421225,1370144,1379677,1549768,1378845,1514312,1396283,1488239,1364713,1534352,1538884,1355330,1348947,1385129,1874476,1462309,1361189,1426255,1311234,1305025,1400563,1373779,1441203,1386399,1443627,1383369,1362114,1402419,1500839,1427414,1346889,1403832,1268287,1336499,1537285,1374579,1287585,1429654,1415198,1381893,1263566,1305752,1378385,1429256,1350091,1403522,1268904,1376946,1410580,1353425,1450730,1359757,1292355,1398738,1345336,1306647,1390715,1383009,1315099,1323445,1391152,1401779,1360140,1446012,1347684,1359138,1415859,1421940,1482880,1344639,1341641,1512913,1400129,1394995,1481566,1450862,1273352,1315550,1494028,1296901,1449296,1382351,1337638,1356887,1256999,1363495,1473344,1336668,1274703,1318007,1410241,1295323,1332582,1370390,1354815,1377001,1394488,1316271,1322742,1420227,1382275,1382275,1298399,1429287,1341494,1345134,1276171,1401761,1474613,1371670,1278859,1436567,1321208,1509987,1361257,1454016,1321780,1355859,1382543,1319550,1318518,1423596,1366479,1377529,1424623,1321326,1306331,1343424,1412489,1471026,1350967,1357879,1346092,1356806,1260851,1463244,1516024,1370197,1328013,1357878,1433488,1323329,1329723,1310782,1409495,1394313,1338042,1574309,1588283,1553037,1407487,1405164,1323995,1444689,1306019,1354993,1438325,1276004,1416654,1465166,1343971,1388900,1345699,1304676,1369774,1515075,1333347,1420259,1317664,1284730,1387532,1399655,1409197,1447102,1390873,1331431,1319596,1318483,1301679,1332004,1472528,1317426,1374517,1417732,1770623,1369404,1420656,1360780,1290910,1311242,1504146,1318492,1332024,1422682,1420134,1464957,1485269,1314966,1351145,1391303,1263596,1537128,1411044,1316637,1366394,1365315,1259874,1447340,3460267,1493958,1327022,1360984,1378348,1370543,1355217,1343504,1521711,1358285,1681316,1566482,1548049,1551040,1261439,1435474,1281504,1317710,1391908,1379569,1358822,1375003,1299885,1320724,1386443,1261841,1562956,1390741,1484872,1383720,1361838,1270672,1336581,1437114,1542323,1335642,1291225,1320467,1393186,1356642,1452716,1394703,1451578,1311207,1481401,1332995,1380547,1491394,1315200,1457628,1404610,1373055,1276046,1399047,1311413,1326225,1408760,1318380,1465827,1305841,1353105,1344894,1333092,1372256,1346195,1486524,1308356,1379740,1370205,1304545,1499821,1484164,1411343,1345353,1344907,1345616,1362370,1399605,1403936,1469472,1346566,1483923,1509099,1360580,1610451,1504744,1313141,1447013,1329602,1276401,1425964,1342368,1413430,1380737,1319562,1408395,1355931,1273475,1404315,1333580,1508260,1300352,1465676,1309774,1265637,1345676,1434758,1451614,1305719,1298773,1568885,1303600,1307769,1321856,1410897,1306497,1357168,1311057,1451142,1327816,1764722,1704657,1487815,1395339,1360941,1384330],"result":{"estimate":1529970.719095022,"r_square":0.8658571969292952}},{"name":"factorial imperative 50","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":26,"time":1022461541},"dataset":[{"x":1,"y":1348613},{"x":2,"y":2746542},{"x":3,"y":4152881},{"x":4,"y":5669937},{"x":5,"y":6965187},{"x":6,"y":8705787},{"x":7,"y":9933422},{"x":8,"y":11512600},{"x":9,"y":13195818},{"x":10,"y":14295914},{"x":11,"y":15478303},{"x":12,"y":16815680},{"x":13,"y":18370263},{"x":14,"y":19707485},{"x":15,"y":21653607},{"x":16,"y":22701168},{"x":17,"y":24625662},{"x":18,"y":26417577},{"x":19,"y":28462204},{"x":20,"y":29124870},{"x":21,"y":30342394},{"x":22,"y":31117313},{"x":23,"y":33822118},{"x":24,"y":34205051},{"x":25,"y":36148526},{"x":26,"y":37570554}],"kde":[1740653,1441179,1573086,1513403,1430971,1451965,1407872,1396314,1484697,1447840,1343265,1366018,1342541,1438970,1415289,1343611,1461430,1552414,1344518,1423495,1424691,1429882,1476071,1418665,1387104,1394195,1387917,1419250,1463204,1431667,1673277,1415289,1504114,1583593,1510057,1409322,1535116,1557085,1625950,1534075,1595611,1516391,1499101,1509011,1531815,1506941,1523055,1505608,1477761,1509682,1419237,1453176,1358532,1390318,1395325,1400698,1428123,1357526,1351892,1342788,1371497,1426695,1342860,1484057,1452007,1460415,1405084,1349422,1403437,1358038,1525509,1427626,1389442,1343939,1473592,1398087,1386643,1357466,1477549,1342377,1356102,1920434,1348537,1406067,1415644,1442310,1556404,1414882,1466427,1431299,1342873,1437054,1594357,1350657,1360212,1387288,1457897,1366459,1474957,1437026,1594452,1393860,1416976,1388664,1434706,1384962,1500706,1401868,1458348,1447998,1406407,1404484,1404088,1419262,1350588,1439165,1396046,1395313,1383446,1406121,1458094,1436383,1417231,1412542,1431702,1475266,1393592,1504067,1389787,1348809,1356816,1431235,1386556,1524218,1431674,1342557,1461478,1342705,1386925,1404144,1390419,1401558,1461524,1440581,1389961,1537607,1403368,1370598,1524546,1343030,1356839,1388082,1342796,1437410,1342886,1428818,1527232,1456962,1426130,1456926,1648836,1432707,1483349,1427500,1436966,1398562,1341999,1386949,1460969,1387107,1403283,1384848,1436243,1423440,1525094,1462110,1466957,1341895,1470968,1342098,1456997,1406254,1373685,1479001,1391983,1346423,1353744,1411356,1486563,1344543,1503730,1399728,1457114,1359263,1346512,1390758,1377681,1500942,1388928,1378073,1341817,1464748,1343079,1437090,1585309,1341882,1447031,1369582,1379241,1365064,1381028,1439833,1391614,1442770,1342002,1418567,1381451,1377339,1444746,1565653,1381117,1356261,1347359,1379822,1356004,1424147,1422634,1549393,1573782,1439128,1453191,1532206,1427418,1495910,1401455,1416812,1342711,1472114,1411332,1604761,1410781,1484942,1388344,1474976,1343100,1348239,1487797,1407636,1458151,1395186,1441039,1395253,1395245,1394837,1367501,1343309,1343023,1409552,1343028,1413073,1372767,1446873,1482672,1384667,1425315,1447182,1380737,1342879,1529875,1463902,1360458,1359230,1639751,1342831,1775405,1344746,1467152,1401195,1349803,1382138,1355698,1349139,1446893,1483676,1465437,1440888,1397675,1377239,1424198,1462780,1359804,1353918,1405419,1379256,1363327,1343159,1423064,1445331,1447270,1701947,1489618,1483858,1400658,1462408,1343782,1405230,1343244,1384897,1357970,1453702,1439538,1408516,1381649,1379317,1349967,1342875,1355956,1481847,1394255,1423872,1390592,1472158,1355079,1377588,1436981,1402606,1391001,1342416,1362997,1378433,1342792,1493422,1384970,1532187,1343749,1360639,1393699,1395610,1424996,1358538,1438576,1342838,1361416,1343897,1393064,1480801,1444569,1389142,1404132,1387080,1342534],"result":{"estimate":1442633.134010643,"r_square":0.9988594265170163}},{"name":"factorial functional 50","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":12,"time":1083425322},"dataset":[{"x":1,"y":7581278},{"x":2,"y":15203263},{"x":3,"y":22821980},{"x":4,"y":29009266},{"x":5,"y":36559129},{"x":6,"y":44816591},{"x":7,"y":51374021},{"x":8,"y":59715054},{"x":9,"y":65978358},{"x":10,"y":75273711},{"x":11,"y":82349852},{"x":12,"y":87747980}],"kde":[7340450,7250614,7694910,7220440,7382421,7372740,7297685,7376921,8156961,7480587,7112243,7464304,7192748,7170010,7436440,7040643,7403920,7521276,7256057,7393999,7270484,7725774,7731557,7269204,7163240,7502557,7129384,7281276,7557659,7375809,7149638,7198828,7495007,7239677,7532612,7637786,7427621,7308196,6992277,7568037,7384318,7368198,7325089,7454039,7073762,7071552,7615236,7285803,7594709,7669524,7321697,7239182,7455637,7278810,7239035,7330818,7085873,7502537,7110910,7385916,7070878,7309644,7840736,7309889,7161032,7137226,7201743,7123261],"result":{"estimate":7410601.603076924,"r_square":0.9992722891307738}},{"name":"factorial imperative 100","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":18,"time":1003670149},"dataset":[{"x":1,"y":2938977},{"x":2,"y":5805332},{"x":3,"y":8427786},{"x":4,"y":11688316},{"x":5,"y":14211493},{"x":6,"y":17159279},{"x":7,"y":20103682},{"x":8,"y":22660576},{"x":9,"y":26456840},{"x":10,"y":28569548},{"x":11,"y":31434330},{"x":12,"y":34187067},{"x":13,"y":36716750},{"x":14,"y":40276214},{"x":15,"y":43026585},{"x":16,"y":45540577},{"x":17,"y":48943298},{"x":18,"y":50890126}],"kde":[2930344,2793223,2853880,2842643,2808064,2756945,2825404,2855372,2831958,2768982,3214685,2824852,2793579,2885498,3039214,2825433,2711916,2914101,2882451,2872084,2889407,2967719,2904208,2781512,2849754,2852008,2724332,2764303,2843321,2788107,2846934,2946735,2796533,2883393,2852997,2815448,2788712,2848312,2774759,2806079,2771494,2804087,2842621,2810779,2832944,2925338,3011671,2873153,2846449,2989173,2825545,2758664,2814769,2808509,2922940,2867256,2858263,2824358,2808330,2883753,2888981,2798504,2799062,2880079,2775094,2804093,2926152,2845040,2728274,2726044,2861066,2774780,2956430,2796178,2767793,2804254,2797168,2833375,2924722,2806449,2973636,2933588,3428302,2898134,2965807,2789618,2764325,2927801,2842014,2811688,2849637,2808260,2819655,2843290,2906593,2986502,2844475,2791884,2809960,2754109,2798791,2891830,2832437,2761311,2762171,2854233,2783796,2951607,2895607,2979124,2774555,2832093,2813089,2839234,2764398,3041684,2893006,2924324,2871578,3020593,2814226,2955419,2872962,2804894,2744311,2876886,2813128,2745674,2893023,2840537,2884889,2756166,2769386,2826255,2786501,2958894,2879154,2891437,2844419,2834102,2903641,2806079,3022208,2901427,2879239,2783979,2832247,2825138,2929997,2803514,2944572,2820072,2780624,2910666,2991983,2815943,2796900,2843569,2832512,2805929,2856971,2845903,2748546,2807538,2866673,2871181,2762656,2753408,2843285,2742991,2755890,2952259,2850275,2816778,2805058,2859984],"result":{"estimate":2857150.471787577,"r_square":0.9996275191134893}},{"name":"factorial functional 100","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":500000000,"limit":2000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":9,"time":1099237372},"dataset":[{"x":1,"y":13217485},{"x":2,"y":25571480},{"x":3,"y":39549466},{"x":4,"y":52109797},{"x":5,"y":69029610},{"x":6,"y":77953752},{"x":7,"y":93907741},{"x":8,"y":106136518},{"x":9,"y":117933757}],"kde":[13140808,13175491,13044161,13091701,13297481,12965984,13375701,12907656,13727175,13003000,12892769,12889825,15680556,13127395,13633662,13582618,13054911,12782281,13255838,13420481,12816556,12980317,13113004,13443639,13056755,12752538,12739328,13172236,13047148,13173378,13428230,12985349,12769931,12870325,12912934,13020300,12660533,13128513],"result":{"estimate":13235679.77894737,"r_square":0.9985930282545107}}]}


if (contents == null)
    d3.json("outputs.json", render);
else
    render(contents);
}

  </script>

</body>
</html>
